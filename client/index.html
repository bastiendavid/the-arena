<!doctype html>
<html>
<meta charset="UTF-8">

<head>
    <title>Welcome to The Arena</title>
</head>

<body>
    <form action="">
        <input id="m" autocomplete="off" />
        <button>Send</button>
    </form>

    <form id="play-form" action="">
        <input id="name" autocomplete="off" />
        <button>Play</button>
    </form>

    <form id="spectate-form" action="">
        <button>Spectate</button>
    </form>

    <ul id="messages"></ul>

    <div id="game"></div>

    <script src="/socket.io/socket.io.js"></script>
    <script src="/jquery/jquery.min.js"></script>
    <script src="/phaser/phaser.min.js"></script>
    <script src="/game.js"></script>
    <script>
    <!-- init sockets -->
    var socket = io();
    socket.emit('user', 'John Doe');

    <!-- Chat -->
    $('form').submit(function () {
        socket.emit('message', $('#m').val());
        $('#m').val('');
        return false;
    });

    socket.on('message', function (msg) {
        $('#messages').append($('<li>').text(msg));
    });

    <!-- Game start -->
    $('#play-form').submit(function () {
        var playerName = $('#name').val();
        socket.emit('register', playerName);
        $('#play-form').hide();
        $('#spectate-form').hide();

        var game = new Game(socket);
        game.play(playerName);
        return false;
    });

    <!-- Game spectate -->
    $('#spectate-form').submit(function () {
        $('#play-form').hide();
        $('#spectate-form').hide();
        var game = new Game(socket);
        game.spectate();
        return false;
    });
    </script>
</body>

</html>
